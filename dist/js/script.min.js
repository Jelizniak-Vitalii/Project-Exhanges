function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let site=document.querySelector(".date"),newTime=document.createElement("span"),firstCurrency=document.querySelectorAll(".currency-buy"),secondCurrency=document.querySelectorAll(".currency-sale"),nameValue=document.querySelectorAll(".name-value"),arrayBuy=[],arraySale=[],arrayCurrency=[];const t="https://api.exchangeratesapi.io/latest",urlValueCurrency="https://v6.exchangerate-api.com/v6/d5003c17d1570e4b59f84b4a/latest/EUR",urlCourse="https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11";async function getCourse(){try{let e=await fetch(urlCourse);return getInfo((await e.json()).splice(0,3))}catch(e){console.error(e)}}async function getValueCurrency(e="EUR"){try{let t=await fetch("https://v6.exchangerate-api.com/v6/d5003c17d1570e4b59f84b4a/latest/"+e),r=await t.json();console.log(r.conversion_rates),addCurrencyValue(r.conversion_rates,firstSelect),addCurrencyValue(r.conversion_rates,secondSelect)}catch(e){console.log(e)}}getCourse(),getValueCurrency();let firstSelect=document.querySelector(".first-currency__select"),secondSelect=document.querySelector(".second-currency__select"),firstCurrencyInput=document.querySelector(".first-currency__input"),secondCurrencyInput=document.querySelector(".second-currency__input"),a=document.createElement("input"),b=document.createElement("input");function addCurrencyValue(e,t){for(let n in e){var r=document.createElement("option");r.textContent=n,r.value=n,t.append(r)}watchChange(e,firstSelect,a),watchChange(e,secondSelect,b)}function watchChange(e,t,r){t.addEventListener("change",()=>{for(let[n,c]of Object.entries(e))n===t.value&&(r.value=c)})}let converter=document.querySelector(".converter-title");function chek(){if(a.value.length>0&&b.value.length>0)if(firstCurrencyInput.value<1)console.log("Ведите сумум для обмена"),firstCurrencyInput.className="error",firstSelect.className="first-currency__select",secondSelect.className="second-currency__select";else if(firstCurrencyInput.className="first-currency__input",console.log(a.value),a.value>b.value){let e=a.value/b.value,t=firstCurrencyInput.value/e;secondCurrencyInput.value=t.toFixed(2),console.log("1")}else{let e=b.value/a.value,t=firstCurrencyInput.value*(Math.floor(100*e)/100);secondCurrencyInput.value=t,console.log("EEEEE")}else console.log("Выберите валюту"),firstSelect.className="error",secondSelect.className="error"}function calcCurrency(){chek()}function getInfo(e){e.forEach(e=>{arrayCurrency.push(e.ccy),arrayBuy.push(e.buy),arraySale.push(e.sale),addNameCurrency(arrayCurrency),showCurrency(arrayBuy,firstCurrency),showCurrency(arraySale,secondCurrency)})}function addNameCurrency(e){for(let t=0;t<e.length;t++)"RUR"===e[t]&&(e[t]="RUB"),nameValue[t].textContent=e[t]+"/UAH"}function showCurrency(e,t){for(let r=0;r<e.length;r++){let n=parseFloat(e[r]).toFixed(2);t[r].textContent=n}}function zero_first_format(e){return e<10&&(e="0"+e),e}function getTime(){let e=new Date;return zero_first_format(e.getDate())+"."+zero_first_format(e.getMonth()+1)+"."+e.getFullYear()+" "+zero_first_format(e.getHours())+":"+zero_first_format(e.getMinutes())+":"+zero_first_format(e.getSeconds())}converter.addEventListener("click",calcCurrency),setInterval((function(){newTime.className="new-date",newTime.innerHTML=getTime(),site.appendChild(newTime)}),100);